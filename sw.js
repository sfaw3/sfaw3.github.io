"use strict";const v0="szcache",v1=[["index.html","update.js"],["manifest.json","favicon.png","icon.png"]];var v2=0;function v3(r){var i=(i=registration.scope)||location.origin,r=r.url.substring(i.length);return r=""==(r="/"==r.substring(0,1)?r.substring(1):r)||"/"==r||r.startsWith("#")||r.startsWith("?v=")||r.startsWith("?_=")?"index.html":r}async function v4(){return caches.open(v0).then(h=>{h.keys().then(function(r){r.forEach(function(r,i,s){if(r){var c=r.url.split("/").pop();-1===v1[1].indexOf(c)&&h.delete(r)}})});var s=registration.scope;v1[0].forEach(i=>{fetch(s+i).then(r=>{h.put(s+i,r.clone());"index.html"==i&&h.put(s,r.clone())})})}).catch(r=>{caches.delete(v0)})}async function v5(){try{var r=registration.scope+"update.js",i=await(s=await fetch(r,{cache:"reload"})).text();if(i&&i.match(/^\d+$/)){var s,c=await caches.open(v0);(s=c?await c.match(r):null)?await s.text()!=i&&v4():c.put(r,new Response(i))}}catch(r){}}self.addEventListener("fetch",r=>{if("GET"===r.request.method){var i=v3(r.request);if(-1!==v1[1].indexOf(i))return v6(r);if("index.html"==i){i=+new Date;if(36e5<i-v2){v2=i;v5()}}return v7(r)}});self.addEventListener("message",r=>{"skipWaiting"===r.data&&self.skipWaiting()});self.addEventListener("install",r=>r.waitUntil(self.skipWaiting()));self.addEventListener("activate",function(r){return r.waitUntil(async function(){await v4();await self.clients.claim()}())});function v6(i){return i.respondWith(caches.open(v0).then(r=>r.match(i.request)))}function v7(s){return s.respondWith(caches.open(v0).then(i=>i.match(s.request).then(r=>r||fetch(s.request).then(r=>{i.put(s.request,r.clone());return r}))))}